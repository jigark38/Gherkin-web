<div class="row pull-right " id="bread">
    <ol class="breadcrumb breadcrumb-arrow">
        <li><a href="#">Purchase Management</a></li>
        <li class="active"><span> Purchase Order</span></li>
    </ol>
</div>
<div class="breadcrumb-height-max"></div>

<p-accordion>
    <p-accordionTab header="Purchase Return" [selected]="true">
        <form [formGroup]="purchaseReturnDetailsForm">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Name of the Supplier</span>
                            <mat-select #supplierCtrl class="form-control border-bottom-1" tabindex="1"
                                formControlName="supplierOrgId">
                                <mat-option *ngFor="let sup of suppliers" [value]="sup.supplierOrgID">
                                    {{sup.organisationName}}
                                </mat-option>
                            </mat-select>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.supplierOrgId.errors?.required && purchaseReturnDetailsForm.controls.supplierOrgId.touched"
                                class="error-span float-left">Name of the Supplier is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Place</span>
                            <input matInput formControlName="placeName" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.placeName.errors?.required && purchaseReturnDetailsForm.controls.placeName.touched"
                                class="error-span">Place is required field.</span>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">GRN Number</span>
                            <input matInput formControlName="rmGrnNo" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.rmGrnNo.errors?.required && purchaseReturnDetailsForm.controls.rmGrnNo.touched"
                                class="error-span">GRN Number is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('rmGrnNo').errors?.pattern && purchaseReturnDetailsForm.controls.rmGrnNo.touched"
                                class="error-span">GRN Number is invalid.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">GRN Date</span>
                            <input matInput class="form-control readonly border-bottom-1" #rmGrnDate
                                [matDatepicker]="dp" formControlName="rmGrnDate">
                            <mat-datepicker-toggle class="date-picker-icon-position readonly" matSuffix [for]="dp">
                            </mat-datepicker-toggle>
                            <mat-datepicker #dp>
                            </mat-datepicker>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.rmGrnDate.errors?.required && purchaseReturnDetailsForm.controls.rmGrnDate.touched"
                                class="error-span">GRN Date is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Invoice / DC</span>
                            <input matInput formControlName="invoiceDc" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.invoiceDc.errors?.required && purchaseReturnDetailsForm.controls.invoiceDc.touched"
                                class="error-span">Invoice / DC is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Invoice / DC No</span>
                            <input matInput formControlName="invoiceDcNo" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.invoiceDcNo.errors?.required && purchaseReturnDetailsForm.controls.invoiceDcNo.touched"
                                class="error-span">Invoice / DC No is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('invoiceDcNo').errors?.pattern && purchaseReturnDetailsForm.controls.invoiceDcNo.touched"
                                class="error-span">Invoice / DC No is invalid.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Invoice / DC Date</span>
                            <input matInput class="form-control readonly border-bottom-1" #invoiceDcDate
                                [matDatepicker]="dp1" formControlName="invoiceDcDate">
                            <mat-datepicker-toggle class="date-picker-icon-position readonly" matSuffix [for]="dp1">
                            </mat-datepicker-toggle>
                            <mat-datepicker #dp1>
                            </mat-datepicker>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.invoiceDcDate.errors?.required && purchaseReturnDetailsForm.controls.invoiceDcDate.touched"
                                class="error-span">Invoice / DC Date is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Invoice Amount</span>
                            <input matInput formControlName="invoiceAmount" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.invoiceAmount.errors?.required && purchaseReturnDetailsForm.controls.invoiceAmount.touched"
                                class="error-span">Invoice Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('invoiceAmount').errors?.pattern && purchaseReturnDetailsForm.controls.invoiceAmount.touched"
                                class="error-span">Invoice Amount is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">IGST / SGST</span>
                            <input matInput formControlName="gstType" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.gstType.errors?.required && purchaseReturnDetailsForm.controls.gstType.touched"
                                class="error-span">IGST / SGST is required field.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Total Material Cost to Reverse</span>
                            <input matInput formControlName="prMaterialCost" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prMaterialCost.errors?.required && purchaseReturnDetailsForm.controls.prMaterialCost.touched"
                                class="error-span">Total Material Cost to Reverse is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prMaterialCost').errors?.pattern && purchaseReturnDetailsForm.controls.prMaterialCost.touched"
                                class="error-span">Total Material Cost to Reverse is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Packing Reverse Amount</span>
                            <input matInput #prPackingAmount formControlName="prPackingAmount" class="form-control"
                                tabindex="2" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prPackingAmount.errors?.required && purchaseReturnDetailsForm.controls.prPackingAmount.touched"
                                class="error-span">Packing Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prPackingAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prPackingAmount.touched"
                                class="error-span">Packing Reverse Amount is invalid.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prPackingAmount').errors?.max && purchaseReturnDetailsForm.controls.prPackingAmount.touched"
                                class="error-span">Packing Reverse Amount is greater than {{maxPackingAmount}}.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">HSN Code</span>
                            <input matInput formControlName="packingHsnCode" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.packingHsnCode.errors?.required && purchaseReturnDetailsForm.controls.packingHsnCode.touched"
                                class="error-span">HSN Code is required field.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Packing Tax Rate</span>
                            <input matInput formControlName="packingTaxRateAmount" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.packingTaxRateAmount.errors?.required && purchaseReturnDetailsForm.controls.packingTaxRateAmount.touched"
                                class="error-span">Packing Tax Rate is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('packingTaxRateAmount').errors?.pattern && purchaseReturnDetailsForm.controls.packingTaxRateAmount.touched"
                                class="error-span">Packing Tax Rate is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Packing Tax Reverse Amount</span>
                            <input matInput formControlName="prPackingTaxAmount" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prPackingTaxAmount.errors?.required && purchaseReturnDetailsForm.controls.prPackingTaxAmount.touched"
                                class="error-span">Packing Tax Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prPackingTaxAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prPackingTaxAmount.touched"
                                class="error-span">Packing Tax Reverse Amount is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Freight Reverse Amount</span>
                            <input matInput formControlName="prFreightAmount" class="form-control" type="text"
                                tabindex="3">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prFreightAmount.errors?.required && purchaseReturnDetailsForm.controls.prFreightAmount.touched"
                                class="error-span">Freight Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prFreightAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prFreightAmount.touched"
                                class="error-span">Freight Reverse Amount is invalid.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prFreightAmount').errors?.max && purchaseReturnDetailsForm.controls.prFreightAmount.touched"
                                class="error-span">Freight Reverse Amount is greater than {{maxFreightAmount}}.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">HSN Code</span>
                            <input matInput formControlName="freightHsnCode" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.freightHsnCode.errors?.required && purchaseReturnDetailsForm.controls.freightHsnCode.touched"
                                class="error-span">HSN Code is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Freight Tax Rate</span>
                            <input matInput formControlName="freightTaxRatePercentage" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.freightTaxRatePercentage.errors?.required && purchaseReturnDetailsForm.controls.freightTaxRatePercentage.touched"
                                class="error-span">Freight Tax Rate is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('freightTaxRatePercentage').errors?.pattern && purchaseReturnDetailsForm.controls.freightTaxRatePercentage.touched"
                                class="error-span">Freight Tax Rate is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Freight Tax Reverse Amount</span>
                            <input matInput formControlName="prFreightTaxAmount" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prFreightTaxAmount.errors?.required && purchaseReturnDetailsForm.controls.prFreightTaxAmount.touched"
                                class="error-span">Freight Tax Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prFreightTaxAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prFreightTaxAmount.touched"
                                class="error-span">Freight Tax Reverse Amount is invalid.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Insurance Reverse Amount</span>
                            <input matInput formControlName="prInsuranceAmount" class="form-control" type="text"
                                tabindex="4">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prInsuranceAmount.errors?.required && purchaseReturnDetailsForm.controls.prInsuranceAmount.touched"
                                class="error-span">Insurance Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prInsuranceAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prInsuranceAmount.touched"
                                class="error-span">Insurance Reverse Amount is invalid.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prInsuranceAmount').errors?.max && purchaseReturnDetailsForm.controls.prInsuranceAmount.touched"
                                class="error-span">Insurance Reverse Amount is greater than {{maxInsAmt}}.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">HSN Code</span>
                            <input matInput formControlName="insuranceHsnCode" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.insuranceHsnCode.errors?.required && purchaseReturnDetailsForm.controls.insuranceHsnCode.touched"
                                class="error-span">HSN Code is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Insurance Tax Rate</span>
                            <input matInput formControlName="insuranceTaxRatePercentage" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.insuranceTaxRatePercentage.errors?.required && purchaseReturnDetailsForm.controls.insuranceTaxRatePercentage.touched"
                                class="error-span">Insurance Tax Rate is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('insuranceTaxRatePercentage').errors?.pattern && purchaseReturnDetailsForm.controls.insuranceTaxRatePercentage.touched"
                                class="error-span">Insurance Tax Rate is invalid.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Insurance Tax Reverse Amount</span>
                            <input matInput formControlName="prInsuranceTaxAmount" class="form-control"
                                readonly="readonly" type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prInsuranceTaxAmount.errors?.required && purchaseReturnDetailsForm.controls.prInsuranceTaxAmount.touched"
                                class="error-span">Insurance Tax Reverse Amount is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prInsuranceTaxAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prInsuranceTaxAmount.touched"
                                class="error-span">Insurance Tax Reverse Amount is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Total Tax Amount to Reverse</span>
                            <input matInput formControlName="prTotalTaxAmount" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prTotalTaxAmount.errors?.required && purchaseReturnDetailsForm.controls.prTotalTaxAmount.touched"
                                class="error-span">Total Tax Amount to Reverse is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prTotalTaxAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prTotalTaxAmount.touched"
                                class="error-span">Total Tax Amount to Reverse is invalid.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Total Amount Reverse</span>
                            <input matInput formControlName="prTotalAmount" class="form-control" readonly="readonly"
                                type="text">
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prTotalAmount.errors?.required && purchaseReturnDetailsForm.controls.prTotalAmount.touched"
                                class="error-span">Total Amount Reverse is required field.</span>
                            <span
                                *ngIf="purchaseReturnDetailsForm.get('prTotalAmount').errors?.pattern && purchaseReturnDetailsForm.controls.prTotalAmount.touched"
                                class="error-span">Total Amount Reverse is invalid.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Purchase Return No</span>
                            <!-- <input matInput formControlName="purchageReturnNo" class="form-control" readonly="readonly" type="text"> -->
                            <mat-select #PRCtrl class="form-control border-bottom-1"
                                (selectionChange)="onPRChanges($event)" formControlName="purchageReturnNo">
                                <mat-option *ngFor="let purchaseReturn of purchaseReturns" [value]="purchaseReturn">
                                    {{purchaseReturn}}
                                </mat-option>
                            </mat-select>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Return Date</span>
                            <input matInput class="form-control border-bottom-1" #purchaseReturnDate tabindex="5"
                                [matDatepicker]="dp2" formControlName="purchaseReturnDate">
                            <mat-datepicker-toggle class="date-picker-icon-position" matSuffix [for]="dp2">
                            </mat-datepicker-toggle>
                            <mat-datepicker #dp2>
                            </mat-datepicker>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.purchaseReturnDate.errors?.required && purchaseReturnDetailsForm.controls.purchaseReturnDate.touched"
                                class="error-span">Return Date is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Purchase Return Remarks</span>
                            <textarea formControlName="prRemarks" type="text" class="form-control"
                                tabindex="6"></textarea>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.prRemarks.errors?.required && purchaseReturnDetailsForm.controls.prRemarks.touched"
                                class="error-span">Purchase Return Remarks is required field.</span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <span class="label-control">Entered By</span>
                            <mat-select class="form-control border-bottom-1" formControlName="employeeID" tabindex="7">
                                <mat-option *ngFor="let emp of employeeList" [value]="emp.employeeId">
                                    {{emp.employeeName}}
                                </mat-option>
                            </mat-select>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.employeeID.errors?.required && purchaseReturnDetailsForm.controls.employeeID.touched"
                                class="error-span float-left">Entered By is required field.</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Outware Gate Pass No</span>
                            <input matInput formControlName="ogpNo" class="form-control" readonly="readonly"
                                type="text">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="forrm-group">
                            <span class="label-control">Gate Pass Date</span>
                            <input matInput class="form-control border-bottom-1" #ogpDate [matDatepicker]="dp3"
                                tabindex="8" formControlName="ogpDate">
                            <mat-datepicker-toggle class="date-picker-icon-position" matSuffix [for]="dp3">
                            </mat-datepicker-toggle>
                            <mat-datepicker #dp3>
                            </mat-datepicker>
                            <span
                                *ngIf="purchaseReturnDetailsForm.controls.ogpDate.errors?.required && purchaseReturnDetailsForm.controls.ogpDate.touched"
                                class="error-span">Return Date is required field.</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mgt-20 pull-right ">
                <div class="container-fluid">
                    <div class="row">
                        <ol>
                            <li>
                                <button pButton type="submit" [disabled]="disableNew" #purchaseReturnBtn
                                    label="Purchase Return" class="ui-button-rounded"
                                    (click)="purchaseReturn()"></button>
                                <button pButton type="submit" #savebtn label="Save" (click)="saveForm()"
                                    class="ui-button-rounded"></button>
                                <button pButton type="submit" label="Modify" [disabled]="disableModify"
                                    (click)="modify()" class="ui-button-rounded"></button>
                                <button pButton type="submit" label="Clear" (click)="clearForm()"
                                    class="ui-button-rounded"></button>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>

        </form>
    </p-accordionTab>
</p-accordion>


<div style="height: 75px;"></div>

<p-accordion>
    <p-accordionTab header="Received Details" [selected]="true">
        <div class="row m-b-25">
            <div class="col-md-12">
                <app-ng-grid #grid1 [cols]="orgCols1" [actions]="actionParams"
                    (selectedRowHandler)="purchaseRecievedOrderDetailsSelectedRowEvent($event)"
                    [data]="purchaseReceviedDetailsGridData"></app-ng-grid>
            </div>
        </div>
    </p-accordionTab>
    <p-accordionTab header="Material Details" [selected]="true">
        <div class="row m-b-25">
            <div class="col-md-12">
                <!-- <app-ng-grid #grid2 [cols]="orgCols2" [actions]="actionParams1"
                    (selectedRowHandler)="purchaseMaterialDetailsSelectedRowEvent($event)"
                    [data]="purchaseMaterialDetailsGridData"
                    (editColumnHandler)="purchaseMaterialColumnEditEvent($event)"></app-ng-grid> -->
                <table class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" cellpadding="4"
                    id="grdPurchaseMaterial">
                    <tbody>
                        <tr>
                            <th style="background-color: #007ad9!important"></th>
                            <th style="background-color: #007ad9!important">Material Name</th>
                            <th style="background-color: #007ad9!important">Invoice Quantity</th>
                            <th style="background-color: #007ad9!important">Received Quantity</th>
                            <th style="background-color: #007ad9!important">Used Quantity</th>
                            <th style="background-color: #007ad9!important">Balance Qty</th>
                            <th style="background-color: #007ad9!important">Return Qty</th>
                            <th style="background-color: #007ad9!important">Invoice Rate</th>
                            <th style="background-color: #007ad9!important">Rate Apply</th>
                            <th style="background-color: #007ad9!important">Material Cost</th>

                        </tr>
                        <ng-container *ngFor="let item of purchaseMaterialDetailsGridData;let i = index">
                            <tr *ngIf="min <= i && max > i" [class.active]="item.isSelected">
                                <td>
                                    <span>
                                        <mat-checkbox [(ngModel)]="item.isSelected" [ngClass]="modifyMode?'readonly':''"
                                            (change)="changePurchaseMaterial(item)"></mat-checkbox>
                                    </span>
                                </td>
                                <td>
                                    {{item.rawMaterialDetailsName}}
                                </td>
                                <td>
                                    {{item.rmGrnBillQty}}
                                </td>
                                <td>
                                    {{item.rmGrnReceivedQty}}
                                </td>
                                <td>
                                    {{item.rmGrnMaterialTransferQty}}
                                </td>
                                <td>
                                    {{item.rmGrnMaterialBalanceQty}}
                                </td>
                                <td>
                                    <input [(ngModel)]="item.rmGrnMaterialReturnQty" class="form-control" type="text"
                                        (focusout)="purchaseMaterialColumnEditEvent($event,i,'qty')" pattern="[0-9]+"
                                        maxlength="6" />
                                    <span *ngIf="item.rmGrnMaterialReturnQty === ''" class="error-span">Return Qty is
                                        mandatory.</span>

                                </td>
                                <td>
                                    {{item.rmGrnBillRate}}
                                </td>
                                <td>
                                    <input [(ngModel)]="item.rmGrnRateApply" class="form-control" type="text"
                                        (focusout)="purchaseMaterialColumnEditEvent($event,i,'rate')"
                                        pattern="^\d+(\.\d{1,2})?$" maxlength="10" />
                                    <span *ngIf="item.rmGrnRateApply === ''" class="error-span">Rate Apply is
                                        mandatory.</span>
                                </td>
                                <td>
                                    {{item.rmGrnReturnMaterialCost}}
                                </td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
                <p-paginator [rows]="10" [totalRecords]="purchaseMaterialDetailsGridData.length"
                    (onPageChange)="paginate($event)">
                </p-paginator>
            </div>
        </div>
    </p-accordionTab>
</p-accordion>

<p-toast [style]="{marginTop: '20px'}"></p-toast>